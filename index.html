<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>La Meriendita 25 - Juan Ferreyra y Amigos</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="P√°gina web oficial de Bonpland Corrientes. Informaci√≥n, clima, contacto y m√°s sobre nuestra localidad." />
  <meta name="keywords" content="Bonpland, Corrientes, clima, contacto, informaci√≥n, pueblo" />
  <meta name="author" content="Juan Ferreyra y amigos" />
  <meta name="robots" content="index, follow" />
  <meta property="og:title" content="La Meriendita 25 - Bonpland Corrientes" />
  <meta property="og:description" content="Emprendimiento escolar - La Meriendita 25: empanadas y proyecto T.I.I.C." />
  <meta property="og:image" content="https://lameriendita25.github.io/bonplandcorrientes/imagen.jpg" />
  <meta property="og:url" content="https://lameriendita25.github.io/bonplandcorrientes/" />
  <meta property="og:type" content="website" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');
    :root{
      --accent:#00adb5;
      --accent-2:#00ffcc;
      --card-bg: rgba(0,0,0,0.45);
      --glass: rgba(255,255,255,0.06);
      --page-bg: rgba(255,255,255,0.98);
      --page-text:#222;
    }
    *{box-sizing:border-box}
    body { margin: 0; padding: 20px; font-family: Arial, sans-serif;
      background: linear-gradient(180deg,#0b0b0d 0%, #111315 100%), url('fondo.jpg') no-repeat center center fixed;
      background-size: cover; color: white;
    }
    header { text-align: center; background-color: rgba(0,0,0,0.55);
      padding: 18px; margin-bottom: 32px; border-radius:10px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6);
    }
    header h1 {
      font-family: 'Pacifico', cursive;
      font-size: 2.8rem;
      color: var(--accent);
      text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
      margin: 0;
    }
    nav { margin-top:10px; }
    nav a { color: white; margin: 0 10px; font-weight: bold;
      text-decoration: none; cursor: pointer; padding:6px 10px; border-radius:6px;
      transition: 0.18s;
    }
    nav a:hover { background: rgba(255,255,255,0.03); transform:translateY(-1px); }

    .seccion { display: none; padding: 20px; }
    .activa { display: block; }

    #contacto form { display: flex; flex-direction: column; gap: 12px;
      background-color: rgba(0, 0, 0, 0.5); padding: 18px;
      border-radius: 10px; max-width: 520px;
    }
    #contacto input, #contacto textarea {
      padding: 10px; border-radius: 6px; border: none; font-size: 15px;
    }
    #contacto button {
      background-color: var(--accent); color: white; border: none;
      padding: 10px; font-size: 15px; border-radius: 6px; cursor: pointer;
      transition: 0.25s;
    }
    #contacto button:hover { background-color: #007f87; }

    footer { text-align: center; padding: 18px;
      background-color: rgba(0,0,0,0.45); color: white; margin-top: 34px; border-radius:8px;
    }

    .musica-btn {
      display: inline-block; margin: 16px 0; padding: 8px 14px;
      font-size: 15px; cursor: pointer; border: none;
      border-radius: 8px;
      background-color: rgba(255, 255, 255, 0.9); color: #222;
    }

    .contenido-caja {
      background: var(--card-bg); padding: 22px;
      border-radius: 12px; max-width: 980px; margin: 0 auto;
      backdrop-filter: blur(6px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    }
    .contenido-caja h2, .contenido-caja h3 { margin-top: 16px; color: var(--accent); }

    /* Proyectos - tarjeta con iframe estilizado */
    .proyecto-card {
      margin-top: 18px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border-radius: 12px;
      padding: 18px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
      align-items: start;
      box-shadow: 0 8px 30px rgba(0,0,0,0.6);
      border: 1px solid rgba(255,255,255,0.03);
    }
    .proyecto-top {
      display:flex; justify-content:space-between; align-items:center; gap:12px;
    }
    .proyecto-top .titulo { font-size:1.2rem; color:var(--accent-2); font-weight:700; display:flex; align-items:center; gap:8px; }
    .proyecto-actions { display:flex; gap:8px; align-items:center; }

    .viewer-wrap {
      width:100%; max-width:940px; margin: 0 auto;
      background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96));
      color: var(--page-text);
      border-radius:10px; overflow:hidden;
      border: 1px solid rgba(0,0,0,0.06);
      box-shadow: 0 12px 30px rgba(0,0,0,0.35);
    }
    .viewer-header {
      display:flex; justify-content:space-between; align-items:center; gap:10px;
      padding:10px 14px; background: rgba(0,0,0,0.03);
      border-bottom: 1px solid rgba(0,0,0,0.04);
    }
    .viewer-header .meta { color:#444; font-size:14px; }
    .viewer-frame {
      width:100%; height:720px; border: none; display:block;
    }

    /* fallback text if iframe blocked */
    .iframe-fallback {
      padding:18px; color:#333; background:#fff; min-height:360px; display:flex; align-items:center; justify-content:center;
    }

    /* small screens */
    @media (max-width:900px){
      .viewer-frame { height:520px; }
      .contenido-caja { padding:16px; }
      header h1 { font-size:2.2rem; }
    }
    @media (max-width:540px){
      .viewer-frame { height:420px; }
    }

    /* redes list */
    #redes ul { list-style:none; padding:0; margin:0; display:flex; gap:14px; flex-wrap:wrap; }
    #redes a { color:white; text-decoration:none; display:flex; gap:8px; align-items:center; padding:6px 10px; border-radius:8px; background: rgba(255,255,255,0.03); }
  </style>
</head>
<body>
  <header>
    <h1>La Meriendita 25</h1>
    <nav>
      <a onclick="mostrarSeccion('inicio')">Inicio</a>
      <a onclick="mostrarSeccion('nosotros')">Sobre Nosotros</a>
      <a onclick="mostrarSeccion('proyectos')">Proyectos</a>
      <a onclick="mostrarSeccion('redes')">Redes</a>
      <a onclick="mostrarSeccion('contacto')">Contacto</a>
    </nav>
  </header>

  <main>
    <!-- INICIO -->
    <section id="inicio" class="seccion activa">
      <div class="contenido-caja">
        <h2>Bienvenidos</h2>
        <p>La Meriendita 25 ‚Äî emprendimiento escolar.</p>

        <section id="clima" style="margin-top:14px;">
          <h3>Clima actual en Bonpland, Corrientes</h3>
          <p id="infoClima">Cargando clima...</p>
        </section>

        <section id="musica" style="margin-top:14px;">
          <audio id="musicaFondo" src="musica.mp3" loop></audio>
          <div id="efecto-musica" style="display:none; text-align:center; margin-top:10px;">
            <p>‚ô™ M√∫sica en reproducci√≥n ‚ô™</p>
          </div>
          <button onclick="toggleMusica()" class="musica-btn">‚ñ∂ Reproducir / Pausar m√∫sica</button>
        </section>
      </div>
    </section>

    <!-- NOSOTROS -->
    <section id="nosotros" class="seccion">
      <div class="contenido-caja">
        <h2>¬øQui√©nes somos?</h2>
        <p>Somos un grupo de tres estudiantes de 4¬∞ a√±o del Colegio Secundario "Amado Bonpland", ubicado en Bonpland (Corrientes). Este proyecto forma parte del espacio curricular T.I.I.C., guiado por la profesora Natalia Romero.</p>

        <h3>¬øC√≥mo surgi√≥ el proyecto?</h3>
        <p>La idea surgi√≥ como trabajo pr√°ctico en T.I.I.C. para crear un producto real que pueda venderse en la escuela y aprender sobre producci√≥n, costos y difusi√≥n digital.</p>
      </div>
    </section>

    <!-- PROYECTOS (MODIFICADA: visor integrado del PDF con dise√±o) -->
    <section id="proyectos" class="seccion">
      <div class="contenido-caja">
        <h2>Nuestros Proyectos Destacados</h2>
        <p>A continuaci√≥n pod√©s ver el informe completo del proyecto "La Meriendita" directamente en la web. Si prefer√≠s, pod√©s descargarlo o abrirlo en otra pesta√±a.</p>

        <div class="proyecto-card" role="region" aria-labelledby="titulo-proyecto">
          <div class="proyecto-top">
            <div class="titulo" id="titulo-proyecto"><i class="fas fa-book"></i> Informe - La Meriendita (Completo)</div>
            <div class="proyecto-actions">
              <!-- Botones: abrir en pesta√±a (apunta a GitHub Pages URL), descargar (misma URL), y fallback local -->
              <a id="openTab" class="btn" href="https://lameriendita25.github.io/bonplandcorrientes/T.I.I.C.Noviembre25.pdf" target="_blank" rel="noopener" title="Abrir PDF en nueva pesta√±a"><i class="fas fa-external-link-alt"></i> Abrir</a>
              <a id="downloadPdf" class="btn" href="https://lameriendita25.github.io/bonplandcorrientes/T.I.I.C.Noviembre25.pdf" download title="Descargar PDF"><i class="fas fa-file-download"></i> Descargar</a>
              <button id="vistaWebBtn" class="btn" onclick="mostrarVisorWeb()"><i class="fas fa-eye"></i> Ver aqu√≠</button>
            </div>
          </div>

          <!-- Visor estilizado -->
          <div id="viewerContainer" class="viewer-wrap" aria-hidden="true" style="display:none;">
            <div class="viewer-header">
              <div class="meta">Informe: La Meriendita ‚Äî T.I.I.C. ‚Ä¢ Juan Ferreyra y equipo</div>
              <div style="display:flex; gap:8px;">
                <button class="btn" onclick="zoomIn()">+ Zoom</button>
                <button class="btn" onclick="zoomOut()">- Zoom</button>
                <button class="btn" onclick="cerrarVisor()"><i class="fas fa-times"></i> Cerrar</button>
              </div>
            </div>

            <!-- Iframe que carga el PDF desde GitHub Pages (primaria) y desde /mnt/data (fallback local) -->
            <iframe id="pdfFrame" class="viewer-frame" src="" title="Informe La Meriendita" loading="lazy"></iframe>

            <div id="iframeFallback" class="iframe-fallback" style="display:none;">
              <div>
                <p>No se puede mostrar el PDF aqu√≠. Pod√©s <a id="linkFallback" href="#" target="_blank" rel="noopener">abrirlo en una nueva pesta√±a</a> o <a id="linkDownloadFallback" href="#" download>descargarlo</a>.</p>
              </div>
            </div>
          </div>

        </div>

        <!-- espacio para otros proyectos -->
        <div style="margin-top:18px;">
          <div class="seccion-proyecto">
            <h3 onclick="toggleContenido('proyecto1')">üíª Proyecto Word: Portada, √çndice y Desarrollo <i class="fas fa-caret-down"></i></h3>
            <div id="proyecto1" class="contenido-proyecto">
              <p>Proyecto realizado en Word con formato profesional. Aqu√≠ pod√©s agregar tu archivo o descripci√≥n.</p>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- REDES -->
    <section id="redes" class="seccion">
      <div class="contenido-caja" id="redesCaja">
        <h2>Nuestras Redes Sociales:</h2>
        <ul>
          <li><a href="https://www.instagram.com/lameriendita25.okk" target="_blank"><i class="fab fa-instagram" style="color:#e1306c;"></i> Instagram</a></li>
          <li><a href="https://www.youtube.com/tuusuario" target="_blank"><i class="fab fa-youtube" style="color:#ff0000;"></i> YouTube</a></li>
          <li><a href="https://wa.me/543772612954" target="_blank"><i class="fab fa-whatsapp" style="color:#25d366;"></i> WhatsApp</a></li>
        </ul>
      </div>
    </section>

    <!-- CONTACTO -->
    <section id="contacto" class="seccion">
      <div class="contenido-caja">
        <h2>Contacto</h2>
        <form action="https://formspree.io/f/mqaleykl" method="POST">
          <label for="nombre">Nombre:</label>
          <input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required />
          <label for="email">Correo:</label>
          <input type="email" id="email" name="email" placeholder="Tu correo" required />
          <label for="mensaje">Mensaje:</label>
          <textarea id="mensaje" name="mensaje" placeholder="Tu mensaje" rows="3" required></textarea>
          <button type="submit">Enviar mensaje</button>
        </form>
      </div>
    </section>

  </main>

  <footer>
    ¬© 2025 Juan Ferreyra y Equipo. Todos los derechos reservados.<br>Esta p√°gina fue creada por estudiantes :)
  </footer>

  <script>
    /* ---------- Helpers ---------- */
    function mostrarSeccion(id) {
      document.querySelectorAll('.seccion').forEach(s => s.classList.remove('activa'));
      document.getElementById(id).classList.add('activa');
      if (id === 'proyectos') {
        // nothing else for now
      }
    }

    /* ---------- M√∫sica ---------- */
    const musica = document.getElementById('musicaFondo');
    const efecto = document.getElementById('efecto-musica');
    function toggleMusica() {
      if (!musica) return;
      if (musica.paused) {
        musica.play(); if(efecto) efecto.style.display = 'block';
      } else {
        musica.pause(); if(efecto) efecto.style.display = 'none';
      }
    }

    /* ---------- Acorde√≥n (peque√±o) ---------- */
    function toggleContenido(id) {
      const cont = document.getElementById(id);
      if (!cont) return;
      if (cont.style.display === 'block') {
        cont.style.display = 'none';
      } else {
        cont.style.display = 'block';
      }
    }

    /* ---------- VISOR integrado (iframe) ---------- */
    const ghPdfUrl = 'https://lameriendita25.github.io/bonplandcorrientes/T.I.I.C.Noviembre25.pdf';
    const localPdfUrl = '/mnt/data/T.I.I.C.Noviembre25.pdf';

    const viewerContainer = document.getElementById('viewerContainer');
    const pdfFrame = document.getElementById('pdfFrame');
    const iframeFallback = document.getElementById('iframeFallback');
    const linkFallback = document.getElementById('linkFallback');
    const linkDownloadFallback = document.getElementById('linkDownloadFallback');

    // Mostrar visor, intenta cargar desde GitHub Pages, si falla ofrece abrir en nueva pesta√±a
    function mostrarVisorWeb(){
      viewerContainer.style.display = 'block';
      viewerContainer.setAttribute('aria-hidden','false');

      // Primero intentamos cargar desde GitHub Pages (usuario subi√≥ el PDF ah√≠)
      loadPdfInIframe(ghPdfUrl).catch(() => {
        // si falla, intentamos la ruta local (para pruebas)
        return loadPdfInIframe(localPdfUrl);
      }).catch(() => {
        // Si ambos fallan, mostramos fallback con links
        pdfFrame.style.display = 'none';
        iframeFallback.style.display = 'flex';
        // Fallback links apuntan a el ghPdfUrl (aunque arroje 404 si no subiste)
        linkFallback.href = ghPdfUrl;
        linkDownloadFallback.href = ghPdfUrl;
      });
    }

    // Carga el PDF en el iframe y devuelve una Promise que falla si no carga en X ms
    function loadPdfInIframe(url){
      return new Promise((resolve, reject) => {
        // asignar src
        pdfFrame.src = url;
        pdfFrame.style.display = 'block';
        iframeFallback.style.display = 'none';

        // timeout por si no carga (ej. 4s)
        const timeout = setTimeout(() => {
          // no sabemos si realmente fall√≥, pero asumimos timeout
          // para dar alternativa
          reject(new Error('timeout cargando iframe'));
        }, 4000);

        // intentar detectar carga (no siempre fiable por CORS), usamos onload
        pdfFrame.onload = () => {
          clearTimeout(timeout);
          resolve();
        };

        // si el frame falla a nivel de red no hay evento sencillo; timeout lo cubre
      });
    }

    function cerrarVisor(){
      viewerContainer.style.display = 'none';
      viewerContainer.setAttribute('aria-hidden','true');
      // opcional: limpiar src para liberar memoria
      pdfFrame.src = '';
    }

    // Zoom simple (usa escala CSS)
    let zoomLevel = 1;
    function zoomIn(){ zoomLevel = Math.min(2, zoomLevel + 0.1); pdfFrame.style.transform = 'scale(' + zoomLevel + ')'; pdfFrame.style.transformOrigin = 'top left'; }
    function zoomOut(){ zoomLevel = Math.max(0.6, zoomLevel - 0.1); pdfFrame.style.transform = 'scale(' + zoomLevel + ')'; pdfFrame.style.transformOrigin = 'top left'; }

    /* ---------- Clima ---------- */
    async function obtenerClima() {
      try {
        const res = await fetch("https://api.open-meteo.com/v1/forecast?latitude=-29.546&longitude=-56.213&current_weather=true");
        if (!res.ok) throw new Error('Error al obtener datos del clima');
        const data = await res.json();
        const clima = data.current_weather;
        const info = `Temperatura: ${clima.temperature} ¬∞C, Viento: ${clima.windspeed} km/h`;
        document.getElementById("infoClima").textContent = info;
      } catch (error) {
        document.getElementById("infoClima").textContent = `Error al cargar el clima.`;
        console.error("Error fetching weather:", error);
      }
    }
    obtenerClima();
    setInterval(obtenerClima, 1800000);

    // si quer√©s, abrir autom√°ticamente visor al entrar a Proyectos:
    // mostrarSeccion('proyectos'); mostrarVisorWeb();

  </script>
</body>
</html>
